# Cloudflare Worker Configuration for TR Story Submissions
# Deploy with: wrangler deploy

name = "tr-story-submission"
main = "story-submission-worker.js"
compatibility_date = "2024-02-07"
account_id = "63aaa8cc7274658af326d5b9114995e3"

# Enable observability logs for debugging
[observability]
enabled = true
[observability.logs]
enabled = true

# Environment variables (set these via wrangler secret or dashboard)
[vars]
# OPENCLAW_HOOK_URL = "https://your-openclaw-gateway:PORT/hooks/agent"
# TELEGRAM_CHAT_ID = "6285846217"

# Secrets (use: wrangler secret put OPENCLAW_HOOK_TOKEN)
# OPENCLAW_HOOK_TOKEN = "your-secret-token-here"

# Routes - where this worker will respond
# Custom subdomain on tubbyretard.com
[[routes]]
pattern = "api.tubbyretard.com/*"
zone_id = "4000fa9fb0da7c04f12b2d6f1f919ff0"

# KV Namespace (optional - for rate limiting or tracking submissions)
# [[kv_namespaces]]
# binding = "SUBMISSIONS"
# id = "your-kv-namespace-id"
